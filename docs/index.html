<!DOCTYPE html>
<html>
  <head>
    <title>Roudokuka examples</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="roudokuka.min.js"></script></head>
  <body>
    <h1>Roudokuka examples</h1>
    <script type="text/javascript">
      let lines = []
      for(let i = 1; i <= 40; i++) {
        if(i % 3 == 0 || /3/.test(i)) {
          lines.push({
            text: i.toString(),
            rate: 1.7,
            pitch: 2
          })
        } else {
          lines.push(i.toString())
        }
      }
      let roudokuka = new Roudokuka(lines, {
        onend: (e, currentLine) => {
          console.log('onend: ', e, currentLine)
        },
        onresume: (e, currentLine) => {
          console.log('onend: ', e, currentLine)
        },
        onLibrettoEnd: (e, currentLine) => {
          console.log('onLibrettoEnd: ', e, currentLine)
          roudokuka.start()
        }
      })
      roudokuka.onReady().then(() => {
        roudokuka.start()
      })
    </script>
  </body>
</html>